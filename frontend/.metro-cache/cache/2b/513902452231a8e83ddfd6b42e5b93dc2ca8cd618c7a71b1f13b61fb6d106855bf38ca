{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  exports.getAuthHeader = getAuthHeader;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (name, email, password, role) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/register`, {\n          name,\n          email,\n          password,\n          role\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  function getAuthHeader(token) {\n    return token ? {\n      Authorization: `Bearer ${token}`\n    } : {};\n  }\n});","lineCount":119,"map":[[13,2,26,0,"exports"],[13,9,26,0],[13,10,26,0,"AuthProvider"],[13,22,26,0],[13,25,26,0,"AuthProvider"],[13,37,26,0],[14,2,105,0,"exports"],[14,9,105,0],[14,10,105,0,"useAuth"],[14,17,105,0],[14,20,105,0,"useAuth"],[14,27,105,0],[15,2,113,0,"exports"],[15,9,113,0],[15,10,113,0,"getAuthHeader"],[15,23,113,0],[15,26,113,0,"getAuthHeader"],[15,39,113,0],[16,2,1,0],[16,6,1,0,"_react"],[16,12,1,0],[16,15,1,0,"require"],[16,22,1,0],[16,23,1,0,"_dependencyMap"],[16,37,1,0],[17,2,2,0],[17,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,42,2,0],[17,45,2,0,"require"],[17,52,2,0],[17,53,2,0,"_dependencyMap"],[17,67,2,0],[18,2,2,0],[18,6,2,0,"AsyncStorage"],[18,18,2,0],[18,21,2,0,"_interopDefault"],[18,36,2,0],[18,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,73,2,0],[19,2,3,0],[19,6,3,0,"_axios"],[19,12,3,0],[19,15,3,0,"require"],[19,22,3,0],[19,23,3,0,"_dependencyMap"],[19,37,3,0],[20,2,3,0],[20,6,3,0,"axios"],[20,11,3,0],[20,14,3,0,"_interopDefault"],[20,29,3,0],[20,30,3,0,"_axios"],[20,36,3,0],[21,2,3,26],[21,6,3,26,"_reactJsxDevRuntime"],[21,25,3,26],[21,28,3,26,"require"],[21,35,3,26],[21,36,3,26,"_dependencyMap"],[21,50,3,26],[22,2,5,0],[22,8,5,6,"BACKEND_URL"],[22,19,5,17],[22,22,5,20,"process"],[22,29,5,27],[22,30,5,28,"env"],[22,33,5,31],[22,34,5,32,"EXPO_PUBLIC_BACKEND_URL"],[22,57,5,55],[23,2,24,0],[23,8,24,6,"AuthContext"],[23,19,24,17],[23,35,24,20],[23,39,24,20,"createContext"],[23,45,24,33],[23,46,24,33,"createContext"],[23,59,24,33],[23,61,24,63,"undefined"],[23,70,24,72],[23,71,24,73],[24,2,26,7],[24,11,26,16,"AuthProvider"],[24,23,26,28,"AuthProvider"],[24,24,26,29],[25,4,26,31,"children"],[26,2,26,71],[26,3,26,72],[26,5,26,74],[27,4,27,2],[27,10,27,8],[27,11,27,9,"user"],[27,15,27,13],[27,17,27,15,"setUser"],[27,24,27,22],[27,25,27,23],[27,28,27,26],[27,32,27,26,"useState"],[27,38,27,34],[27,39,27,34,"useState"],[27,47,27,34],[27,49,27,48],[27,53,27,52],[27,54,27,53],[28,4,28,2],[28,10,28,8],[28,11,28,9,"token"],[28,16,28,14],[28,18,28,16,"setToken"],[28,26,28,24],[28,27,28,25],[28,30,28,28],[28,34,28,28,"useState"],[28,40,28,36],[28,41,28,36,"useState"],[28,49,28,36],[28,51,28,52],[28,55,28,56],[28,56,28,57],[29,4,29,2],[29,10,29,8],[29,11,29,9,"loading"],[29,18,29,16],[29,20,29,18,"setLoading"],[29,30,29,28],[29,31,29,29],[29,34,29,32],[29,38,29,32,"useState"],[29,44,29,40],[29,45,29,40,"useState"],[29,53,29,40],[29,55,29,41],[29,59,29,45],[29,60,29,46],[30,4,31,2],[30,8,31,2,"useEffect"],[30,14,31,11],[30,15,31,11,"useEffect"],[30,24,31,11],[30,26,31,12],[30,32,31,18],[31,6,32,4,"loadStoredAuth"],[31,20,32,18],[31,21,32,19],[31,22,32,20],[32,4,33,2],[32,5,33,3],[32,7,33,5],[32,9,33,7],[32,10,33,8],[33,4,35,2],[33,10,35,8,"loadStoredAuth"],[33,24,35,22],[33,27,35,25],[33,33,35,25,"loadStoredAuth"],[33,34,35,25],[33,39,35,37],[34,6,36,4],[34,10,36,8],[35,8,37,6],[35,14,37,12,"storedToken"],[35,25,37,23],[35,28,37,26],[35,34,37,32,"AsyncStorage"],[35,46,37,44],[35,47,37,44,"default"],[35,54,37,44],[35,55,37,45,"getItem"],[35,62,37,52],[35,63,37,53],[35,70,37,60],[35,71,37,61],[36,8,38,6],[36,14,38,12,"storedUser"],[36,24,38,22],[36,27,38,25],[36,33,38,31,"AsyncStorage"],[36,45,38,43],[36,46,38,43,"default"],[36,53,38,43],[36,54,38,44,"getItem"],[36,61,38,51],[36,62,38,52],[36,68,38,58],[36,69,38,59],[37,8,40,6],[37,12,40,10,"storedToken"],[37,23,40,21],[37,27,40,25,"storedUser"],[37,37,40,35],[37,39,40,37],[38,10,41,8,"setToken"],[38,18,41,16],[38,19,41,17,"storedToken"],[38,30,41,28],[38,31,41,29],[39,10,42,8,"setUser"],[39,17,42,15],[39,18,42,16,"JSON"],[39,22,42,20],[39,23,42,21,"parse"],[39,28,42,26],[39,29,42,27,"storedUser"],[39,39,42,37],[39,40,42,38],[39,41,42,39],[40,8,43,6],[41,6,44,4],[41,7,44,5],[41,8,44,6],[41,15,44,13,"error"],[41,20,44,18],[41,22,44,20],[42,8,45,6,"console"],[42,15,45,13],[42,16,45,14,"error"],[42,21,45,19],[42,22,45,20],[42,43,45,41],[42,45,45,43,"error"],[42,50,45,48],[42,51,45,49],[43,6,46,4],[43,7,46,5],[43,16,46,14],[44,8,47,6,"setLoading"],[44,18,47,16],[44,19,47,17],[44,24,47,22],[44,25,47,23],[45,6,48,4],[46,4,49,2],[46,5,49,3],[47,4,51,2],[47,10,51,8,"login"],[47,15,51,13],[47,18,51,16],[47,24,51,16,"login"],[47,25,51,23,"email"],[47,30,51,36],[47,32,51,38,"password"],[47,40,51,54],[47,45,51,59],[48,6,52,4],[48,10,52,8],[49,8,53,6],[49,14,53,12,"response"],[49,22,53,20],[49,25,53,23],[49,31,53,29,"axios"],[49,36,53,34],[49,37,53,34,"default"],[49,44,53,34],[49,45,53,35,"post"],[49,49,53,39],[49,50,53,40],[49,53,53,43,"BACKEND_URL"],[49,64,53,54],[49,81,53,71],[49,83,53,73],[50,10,54,8,"email"],[50,15,54,13],[51,10,55,8,"password"],[52,8,56,6],[52,9,56,7],[52,10,56,8],[53,8,58,6],[53,14,58,12],[54,10,58,14,"access_token"],[54,22,58,26],[55,10,58,28,"user"],[55,14,58,32],[55,16,58,34,"userData"],[56,8,58,43],[56,9,58,44],[56,12,58,47,"response"],[56,20,58,55],[56,21,58,56,"data"],[56,25,58,60],[57,8,60,6],[57,14,60,12,"AsyncStorage"],[57,26,60,24],[57,27,60,24,"default"],[57,34,60,24],[57,35,60,25,"setItem"],[57,42,60,32],[57,43,60,33],[57,50,60,40],[57,52,60,42,"access_token"],[57,64,60,54],[57,65,60,55],[58,8,61,6],[58,14,61,12,"AsyncStorage"],[58,26,61,24],[58,27,61,24,"default"],[58,34,61,24],[58,35,61,25,"setItem"],[58,42,61,32],[58,43,61,33],[58,49,61,39],[58,51,61,41,"JSON"],[58,55,61,45],[58,56,61,46,"stringify"],[58,65,61,55],[58,66,61,56,"userData"],[58,74,61,64],[58,75,61,65],[58,76,61,66],[59,8,63,6,"setToken"],[59,16,63,14],[59,17,63,15,"access_token"],[59,29,63,27],[59,30,63,28],[60,8,64,6,"setUser"],[60,15,64,13],[60,16,64,14,"userData"],[60,24,64,22],[60,25,64,23],[61,6,65,4],[61,7,65,5],[61,8,65,6],[61,15,65,13,"error"],[61,20,65,23],[61,22,65,25],[62,8,66,6],[62,14,66,12],[62,18,66,16,"Error"],[62,23,66,21],[62,24,66,22,"error"],[62,29,66,27],[62,30,66,28,"response"],[62,38,66,36],[62,40,66,38,"data"],[62,44,66,42],[62,46,66,44,"detail"],[62,52,66,50],[62,56,66,54],[62,70,66,68],[62,71,66,69],[63,6,67,4],[64,4,68,2],[64,5,68,3],[65,4,70,2],[65,10,70,8,"register"],[65,18,70,16],[65,21,70,19],[65,27,70,19,"register"],[65,28,70,26,"name"],[65,32,70,38],[65,34,70,40,"email"],[65,39,70,53],[65,41,70,55,"password"],[65,49,70,71],[65,51,70,73,"role"],[65,55,70,85],[65,60,70,90],[66,6,71,4],[66,10,71,8],[67,8,72,6],[67,14,72,12,"response"],[67,22,72,20],[67,25,72,23],[67,31,72,29,"axios"],[67,36,72,34],[67,37,72,34,"default"],[67,44,72,34],[67,45,72,35,"post"],[67,49,72,39],[67,50,72,40],[67,53,72,43,"BACKEND_URL"],[67,64,72,54],[67,84,72,74],[67,86,72,76],[68,10,73,8,"name"],[68,14,73,12],[69,10,74,8,"email"],[69,15,74,13],[70,10,75,8,"password"],[70,18,75,16],[71,10,76,8,"role"],[72,8,77,6],[72,9,77,7],[72,10,77,8],[73,8,79,6],[73,14,79,12],[74,10,79,14,"access_token"],[74,22,79,26],[75,10,79,28,"user"],[75,14,79,32],[75,16,79,34,"userData"],[76,8,79,43],[76,9,79,44],[76,12,79,47,"response"],[76,20,79,55],[76,21,79,56,"data"],[76,25,79,60],[77,8,81,6],[77,14,81,12,"AsyncStorage"],[77,26,81,24],[77,27,81,24,"default"],[77,34,81,24],[77,35,81,25,"setItem"],[77,42,81,32],[77,43,81,33],[77,50,81,40],[77,52,81,42,"access_token"],[77,64,81,54],[77,65,81,55],[78,8,82,6],[78,14,82,12,"AsyncStorage"],[78,26,82,24],[78,27,82,24,"default"],[78,34,82,24],[78,35,82,25,"setItem"],[78,42,82,32],[78,43,82,33],[78,49,82,39],[78,51,82,41,"JSON"],[78,55,82,45],[78,56,82,46,"stringify"],[78,65,82,55],[78,66,82,56,"userData"],[78,74,82,64],[78,75,82,65],[78,76,82,66],[79,8,84,6,"setToken"],[79,16,84,14],[79,17,84,15,"access_token"],[79,29,84,27],[79,30,84,28],[80,8,85,6,"setUser"],[80,15,85,13],[80,16,85,14,"userData"],[80,24,85,22],[80,25,85,23],[81,6,86,4],[81,7,86,5],[81,8,86,6],[81,15,86,13,"error"],[81,20,86,23],[81,22,86,25],[82,8,87,6],[82,14,87,12],[82,18,87,16,"Error"],[82,23,87,21],[82,24,87,22,"error"],[82,29,87,27],[82,30,87,28,"response"],[82,38,87,36],[82,40,87,38,"data"],[82,44,87,42],[82,46,87,44,"detail"],[82,52,87,50],[82,56,87,54],[82,77,87,75],[82,78,87,76],[83,6,88,4],[84,4,89,2],[84,5,89,3],[85,4,91,2],[85,10,91,8,"logout"],[85,16,91,14],[85,19,91,17],[85,25,91,17,"logout"],[85,26,91,17],[85,31,91,29],[86,6,92,4],[86,12,92,10,"AsyncStorage"],[86,24,92,22],[86,25,92,22,"default"],[86,32,92,22],[86,33,92,23,"removeItem"],[86,43,92,33],[86,44,92,34],[86,51,92,41],[86,52,92,42],[87,6,93,4],[87,12,93,10,"AsyncStorage"],[87,24,93,22],[87,25,93,22,"default"],[87,32,93,22],[87,33,93,23,"removeItem"],[87,43,93,33],[87,44,93,34],[87,50,93,40],[87,51,93,41],[88,6,94,4,"setToken"],[88,14,94,12],[88,15,94,13],[88,19,94,17],[88,20,94,18],[89,6,95,4,"setUser"],[89,13,95,11],[89,14,95,12],[89,18,95,16],[89,19,95,17],[90,4,96,2],[90,5,96,3],[91,4,98,2],[91,24,99,4],[91,28,99,4,"_reactJsxDevRuntime"],[91,47,99,4],[91,48,99,4,"jsxDEV"],[91,54,99,4],[91,56,99,5,"AuthContext"],[91,67,99,16],[91,68,99,17,"Provider"],[91,76,99,25],[92,6,99,26,"value"],[92,11,99,31],[92,13,99,33],[93,8,99,35,"user"],[93,12,99,39],[94,8,99,41,"token"],[94,13,99,46],[95,8,99,48,"loading"],[95,15,99,55],[96,8,99,57,"login"],[96,13,99,62],[97,8,99,64,"register"],[97,16,99,72],[98,8,99,74,"logout"],[99,6,99,81],[99,7,99,83],[100,6,99,83,"children"],[100,14,99,83],[100,16,100,7,"children"],[101,4,100,15],[102,6,100,15,"fileName"],[102,14,100,15],[102,16,100,15,"_jsxFileName"],[102,28,100,15],[103,6,100,15,"lineNumber"],[103,16,100,15],[104,6,100,15,"columnNumber"],[104,18,100,15],[105,4,100,15],[105,11,101,26],[105,12,101,27],[106,2,103,0],[107,2,105,7],[107,11,105,16,"useAuth"],[107,18,105,23,"useAuth"],[107,19,105,23],[107,21,105,26],[108,4,106,2],[108,10,106,8,"context"],[108,17,106,15],[108,20,106,18],[108,24,106,18,"useContext"],[108,30,106,28],[108,31,106,28,"useContext"],[108,41,106,28],[108,43,106,29,"AuthContext"],[108,54,106,40],[108,55,106,41],[109,4,107,2],[109,8,107,6,"context"],[109,15,107,13],[109,20,107,18,"undefined"],[109,29,107,27],[109,31,107,29],[110,6,108,4],[110,12,108,10],[110,16,108,14,"Error"],[110,21,108,19],[110,22,108,20],[110,67,108,65],[110,68,108,66],[111,4,109,2],[112,4,110,2],[112,11,110,9,"context"],[112,18,110,16],[113,2,111,0],[114,2,113,7],[114,11,113,16,"getAuthHeader"],[114,24,113,29,"getAuthHeader"],[114,25,113,30,"token"],[114,30,113,50],[114,32,113,52],[115,4,114,2],[115,11,114,9,"token"],[115,16,114,14],[115,19,114,17],[116,6,114,19,"Authorization"],[116,19,114,32],[116,21,114,34],[116,31,114,44,"token"],[116,36,114,49],[117,4,114,52],[117,5,114,53],[117,8,114,56],[117,9,114,57],[117,10,114,58],[118,2,115,0],[119,0,115,1],[119,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth","getAuthHeader"],"mappings":"AAA;OCyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJmB;iBKE;GLK;CDO;OOE;CPM;OQE;CRE"},"hasCjsExports":false},"type":"js/module"}]}