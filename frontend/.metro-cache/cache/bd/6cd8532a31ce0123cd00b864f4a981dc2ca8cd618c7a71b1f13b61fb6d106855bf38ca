{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  exports.getAuthHeader = getAuthHeader;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (name, email, password, role) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/register`, {\n          name,\n          email,\n          password,\n          role\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  function getAuthHeader(token) {\n    return token ? {\n      Authorization: `Bearer ${token}`\n    } : {};\n  }\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":129,"map":[[15,2,26,0,"exports"],[15,9,26,0],[15,10,26,0,"AuthProvider"],[15,22,26,0],[15,25,26,0,"AuthProvider"],[15,37,26,0],[16,2,105,0,"exports"],[16,9,105,0],[16,10,105,0,"useAuth"],[16,17,105,0],[16,20,105,0,"useAuth"],[16,27,105,0],[17,2,113,0,"exports"],[17,9,113,0],[17,10,113,0,"getAuthHeader"],[17,23,113,0],[17,26,113,0,"getAuthHeader"],[17,39,113,0],[18,2,115,1],[18,6,115,1,"_expoVirtualEnv"],[18,21,115,1],[18,24,115,1,"require"],[18,31,115,1],[18,32,115,1,"_dependencyMap"],[18,46,115,1],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,3,0],[22,6,3,0,"_axios"],[22,12,3,0],[22,15,3,0,"require"],[22,22,3,0],[22,23,3,0,"_dependencyMap"],[22,37,3,0],[23,2,3,0],[23,6,3,0,"axios"],[23,11,3,0],[23,14,3,0,"_interopDefault"],[23,29,3,0],[23,30,3,0,"_axios"],[23,36,3,0],[24,2,3,26],[24,6,3,26,"_reactJsxDevRuntime"],[24,25,3,26],[24,28,3,26,"require"],[24,35,3,26],[24,36,3,26,"_dependencyMap"],[24,50,3,26],[25,2,5,0],[25,8,5,6,"BACKEND_URL"],[25,19,5,17],[25,22,5,17,"_expoVirtualEnv"],[25,37,5,17],[25,38,5,17,"env"],[25,41,5,17],[25,42,5,17,"EXPO_PUBLIC_BACKEND_URL"],[25,65,5,55],[26,2,24,0],[26,8,24,6,"AuthContext"],[26,19,24,17],[26,35,24,20],[26,39,24,20,"createContext"],[26,45,24,33],[26,46,24,33,"createContext"],[26,59,24,33],[26,61,24,63,"undefined"],[26,70,24,72],[26,71,24,73],[27,2,26,7],[27,11,26,16,"AuthProvider"],[27,23,26,28,"AuthProvider"],[27,24,26,29],[28,4,26,31,"children"],[29,2,26,71],[29,3,26,72],[29,5,26,74],[30,4,26,74,"_s"],[30,6,26,74],[31,4,27,2],[31,10,27,8],[31,11,27,9,"user"],[31,15,27,13],[31,17,27,15,"setUser"],[31,24,27,22],[31,25,27,23],[31,28,27,26],[31,32,27,26,"useState"],[31,38,27,34],[31,39,27,34,"useState"],[31,47,27,34],[31,49,27,48],[31,53,27,52],[31,54,27,53],[32,4,28,2],[32,10,28,8],[32,11,28,9,"token"],[32,16,28,14],[32,18,28,16,"setToken"],[32,26,28,24],[32,27,28,25],[32,30,28,28],[32,34,28,28,"useState"],[32,40,28,36],[32,41,28,36,"useState"],[32,49,28,36],[32,51,28,52],[32,55,28,56],[32,56,28,57],[33,4,29,2],[33,10,29,8],[33,11,29,9,"loading"],[33,18,29,16],[33,20,29,18,"setLoading"],[33,30,29,28],[33,31,29,29],[33,34,29,32],[33,38,29,32,"useState"],[33,44,29,40],[33,45,29,40,"useState"],[33,53,29,40],[33,55,29,41],[33,59,29,45],[33,60,29,46],[34,4,31,2],[34,8,31,2,"useEffect"],[34,14,31,11],[34,15,31,11,"useEffect"],[34,24,31,11],[34,26,31,12],[34,32,31,18],[35,6,32,4,"loadStoredAuth"],[35,20,32,18],[35,21,32,19],[35,22,32,20],[36,4,33,2],[36,5,33,3],[36,7,33,5],[36,9,33,7],[36,10,33,8],[37,4,35,2],[37,10,35,8,"loadStoredAuth"],[37,24,35,22],[37,27,35,25],[37,33,35,25,"loadStoredAuth"],[37,34,35,25],[37,39,35,37],[38,6,36,4],[38,10,36,8],[39,8,37,6],[39,14,37,12,"storedToken"],[39,25,37,23],[39,28,37,26],[39,34,37,32,"AsyncStorage"],[39,46,37,44],[39,47,37,44,"default"],[39,54,37,44],[39,55,37,45,"getItem"],[39,62,37,52],[39,63,37,53],[39,70,37,60],[39,71,37,61],[40,8,38,6],[40,14,38,12,"storedUser"],[40,24,38,22],[40,27,38,25],[40,33,38,31,"AsyncStorage"],[40,45,38,43],[40,46,38,43,"default"],[40,53,38,43],[40,54,38,44,"getItem"],[40,61,38,51],[40,62,38,52],[40,68,38,58],[40,69,38,59],[41,8,40,6],[41,12,40,10,"storedToken"],[41,23,40,21],[41,27,40,25,"storedUser"],[41,37,40,35],[41,39,40,37],[42,10,41,8,"setToken"],[42,18,41,16],[42,19,41,17,"storedToken"],[42,30,41,28],[42,31,41,29],[43,10,42,8,"setUser"],[43,17,42,15],[43,18,42,16,"JSON"],[43,22,42,20],[43,23,42,21,"parse"],[43,28,42,26],[43,29,42,27,"storedUser"],[43,39,42,37],[43,40,42,38],[43,41,42,39],[44,8,43,6],[45,6,44,4],[45,7,44,5],[45,8,44,6],[45,15,44,13,"error"],[45,20,44,18],[45,22,44,20],[46,8,45,6,"console"],[46,15,45,13],[46,16,45,14,"error"],[46,21,45,19],[46,22,45,20],[46,43,45,41],[46,45,45,43,"error"],[46,50,45,48],[46,51,45,49],[47,6,46,4],[47,7,46,5],[47,16,46,14],[48,8,47,6,"setLoading"],[48,18,47,16],[48,19,47,17],[48,24,47,22],[48,25,47,23],[49,6,48,4],[50,4,49,2],[50,5,49,3],[51,4,51,2],[51,10,51,8,"login"],[51,15,51,13],[51,18,51,16],[51,24,51,16,"login"],[51,25,51,23,"email"],[51,30,51,36],[51,32,51,38,"password"],[51,40,51,54],[51,45,51,59],[52,6,52,4],[52,10,52,8],[53,8,53,6],[53,14,53,12,"response"],[53,22,53,20],[53,25,53,23],[53,31,53,29,"axios"],[53,36,53,34],[53,37,53,34,"default"],[53,44,53,34],[53,45,53,35,"post"],[53,49,53,39],[53,50,53,40],[53,53,53,43,"BACKEND_URL"],[53,64,53,54],[53,81,53,71],[53,83,53,73],[54,10,54,8,"email"],[54,15,54,13],[55,10,55,8,"password"],[56,8,56,6],[56,9,56,7],[56,10,56,8],[57,8,58,6],[57,14,58,12],[58,10,58,14,"access_token"],[58,22,58,26],[59,10,58,28,"user"],[59,14,58,32],[59,16,58,34,"userData"],[60,8,58,43],[60,9,58,44],[60,12,58,47,"response"],[60,20,58,55],[60,21,58,56,"data"],[60,25,58,60],[61,8,60,6],[61,14,60,12,"AsyncStorage"],[61,26,60,24],[61,27,60,24,"default"],[61,34,60,24],[61,35,60,25,"setItem"],[61,42,60,32],[61,43,60,33],[61,50,60,40],[61,52,60,42,"access_token"],[61,64,60,54],[61,65,60,55],[62,8,61,6],[62,14,61,12,"AsyncStorage"],[62,26,61,24],[62,27,61,24,"default"],[62,34,61,24],[62,35,61,25,"setItem"],[62,42,61,32],[62,43,61,33],[62,49,61,39],[62,51,61,41,"JSON"],[62,55,61,45],[62,56,61,46,"stringify"],[62,65,61,55],[62,66,61,56,"userData"],[62,74,61,64],[62,75,61,65],[62,76,61,66],[63,8,63,6,"setToken"],[63,16,63,14],[63,17,63,15,"access_token"],[63,29,63,27],[63,30,63,28],[64,8,64,6,"setUser"],[64,15,64,13],[64,16,64,14,"userData"],[64,24,64,22],[64,25,64,23],[65,6,65,4],[65,7,65,5],[65,8,65,6],[65,15,65,13,"error"],[65,20,65,23],[65,22,65,25],[66,8,66,6],[66,14,66,12],[66,18,66,16,"Error"],[66,23,66,21],[66,24,66,22,"error"],[66,29,66,27],[66,30,66,28,"response"],[66,38,66,36],[66,40,66,38,"data"],[66,44,66,42],[66,46,66,44,"detail"],[66,52,66,50],[66,56,66,54],[66,70,66,68],[66,71,66,69],[67,6,67,4],[68,4,68,2],[68,5,68,3],[69,4,70,2],[69,10,70,8,"register"],[69,18,70,16],[69,21,70,19],[69,27,70,19,"register"],[69,28,70,26,"name"],[69,32,70,38],[69,34,70,40,"email"],[69,39,70,53],[69,41,70,55,"password"],[69,49,70,71],[69,51,70,73,"role"],[69,55,70,85],[69,60,70,90],[70,6,71,4],[70,10,71,8],[71,8,72,6],[71,14,72,12,"response"],[71,22,72,20],[71,25,72,23],[71,31,72,29,"axios"],[71,36,72,34],[71,37,72,34,"default"],[71,44,72,34],[71,45,72,35,"post"],[71,49,72,39],[71,50,72,40],[71,53,72,43,"BACKEND_URL"],[71,64,72,54],[71,84,72,74],[71,86,72,76],[72,10,73,8,"name"],[72,14,73,12],[73,10,74,8,"email"],[73,15,74,13],[74,10,75,8,"password"],[74,18,75,16],[75,10,76,8,"role"],[76,8,77,6],[76,9,77,7],[76,10,77,8],[77,8,79,6],[77,14,79,12],[78,10,79,14,"access_token"],[78,22,79,26],[79,10,79,28,"user"],[79,14,79,32],[79,16,79,34,"userData"],[80,8,79,43],[80,9,79,44],[80,12,79,47,"response"],[80,20,79,55],[80,21,79,56,"data"],[80,25,79,60],[81,8,81,6],[81,14,81,12,"AsyncStorage"],[81,26,81,24],[81,27,81,24,"default"],[81,34,81,24],[81,35,81,25,"setItem"],[81,42,81,32],[81,43,81,33],[81,50,81,40],[81,52,81,42,"access_token"],[81,64,81,54],[81,65,81,55],[82,8,82,6],[82,14,82,12,"AsyncStorage"],[82,26,82,24],[82,27,82,24,"default"],[82,34,82,24],[82,35,82,25,"setItem"],[82,42,82,32],[82,43,82,33],[82,49,82,39],[82,51,82,41,"JSON"],[82,55,82,45],[82,56,82,46,"stringify"],[82,65,82,55],[82,66,82,56,"userData"],[82,74,82,64],[82,75,82,65],[82,76,82,66],[83,8,84,6,"setToken"],[83,16,84,14],[83,17,84,15,"access_token"],[83,29,84,27],[83,30,84,28],[84,8,85,6,"setUser"],[84,15,85,13],[84,16,85,14,"userData"],[84,24,85,22],[84,25,85,23],[85,6,86,4],[85,7,86,5],[85,8,86,6],[85,15,86,13,"error"],[85,20,86,23],[85,22,86,25],[86,8,87,6],[86,14,87,12],[86,18,87,16,"Error"],[86,23,87,21],[86,24,87,22,"error"],[86,29,87,27],[86,30,87,28,"response"],[86,38,87,36],[86,40,87,38,"data"],[86,44,87,42],[86,46,87,44,"detail"],[86,52,87,50],[86,56,87,54],[86,77,87,75],[86,78,87,76],[87,6,88,4],[88,4,89,2],[88,5,89,3],[89,4,91,2],[89,10,91,8,"logout"],[89,16,91,14],[89,19,91,17],[89,25,91,17,"logout"],[89,26,91,17],[89,31,91,29],[90,6,92,4],[90,12,92,10,"AsyncStorage"],[90,24,92,22],[90,25,92,22,"default"],[90,32,92,22],[90,33,92,23,"removeItem"],[90,43,92,33],[90,44,92,34],[90,51,92,41],[90,52,92,42],[91,6,93,4],[91,12,93,10,"AsyncStorage"],[91,24,93,22],[91,25,93,22,"default"],[91,32,93,22],[91,33,93,23,"removeItem"],[91,43,93,33],[91,44,93,34],[91,50,93,40],[91,51,93,41],[92,6,94,4,"setToken"],[92,14,94,12],[92,15,94,13],[92,19,94,17],[92,20,94,18],[93,6,95,4,"setUser"],[93,13,95,11],[93,14,95,12],[93,18,95,16],[93,19,95,17],[94,4,96,2],[94,5,96,3],[95,4,98,2],[95,24,99,4],[95,28,99,4,"_reactJsxDevRuntime"],[95,47,99,4],[95,48,99,4,"jsxDEV"],[95,54,99,4],[95,56,99,5,"AuthContext"],[95,67,99,16],[95,68,99,17,"Provider"],[95,76,99,25],[96,6,99,26,"value"],[96,11,99,31],[96,13,99,33],[97,8,99,35,"user"],[97,12,99,39],[98,8,99,41,"token"],[98,13,99,46],[99,8,99,48,"loading"],[99,15,99,55],[100,8,99,57,"login"],[100,13,99,62],[101,8,99,64,"register"],[101,16,99,72],[102,8,99,74,"logout"],[103,6,99,81],[103,7,99,83],[104,6,99,83,"children"],[104,14,99,83],[104,16,100,7,"children"],[105,4,100,15],[106,6,100,15,"fileName"],[106,14,100,15],[106,16,100,15,"_jsxFileName"],[106,28,100,15],[107,6,100,15,"lineNumber"],[107,16,100,15],[108,6,100,15,"columnNumber"],[108,18,100,15],[109,4,100,15],[109,11,101,26],[109,12,101,27],[110,2,103,0],[111,2,103,1,"_s"],[111,4,103,1],[111,5,26,16,"AuthProvider"],[111,17,26,28],[112,2,26,28,"_c"],[112,4,26,28],[112,7,26,16,"AuthProvider"],[112,19,26,28],[113,2,105,7],[113,11,105,16,"useAuth"],[113,18,105,23,"useAuth"],[113,19,105,23],[113,21,105,26],[114,4,105,26,"_s2"],[114,7,105,26],[115,4,106,2],[115,10,106,8,"context"],[115,17,106,15],[115,20,106,18],[115,24,106,18,"useContext"],[115,30,106,28],[115,31,106,28,"useContext"],[115,41,106,28],[115,43,106,29,"AuthContext"],[115,54,106,40],[115,55,106,41],[116,4,107,2],[116,8,107,6,"context"],[116,15,107,13],[116,20,107,18,"undefined"],[116,29,107,27],[116,31,107,29],[117,6,108,4],[117,12,108,10],[117,16,108,14,"Error"],[117,21,108,19],[117,22,108,20],[117,67,108,65],[117,68,108,66],[118,4,109,2],[119,4,110,2],[119,11,110,9,"context"],[119,18,110,16],[120,2,111,0],[121,2,111,1,"_s2"],[121,5,111,1],[121,6,105,16,"useAuth"],[121,13,105,23],[122,2,113,7],[122,11,113,16,"getAuthHeader"],[122,24,113,29,"getAuthHeader"],[122,25,113,30,"token"],[122,30,113,50],[122,32,113,52],[123,4,114,2],[123,11,114,9,"token"],[123,16,114,14],[123,19,114,17],[124,6,114,19,"Authorization"],[124,19,114,32],[124,21,114,34],[124,31,114,44,"token"],[124,36,114,49],[125,4,114,52],[125,5,114,53],[125,8,114,56],[125,9,114,57],[125,10,114,58],[126,2,115,0],[127,2,115,1],[127,6,115,1,"_c"],[127,8,115,1],[128,2,115,1,"$RefreshReg$"],[128,14,115,1],[128,15,115,1,"_c"],[128,17,115,1],[129,0,115,1],[129,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth","getAuthHeader"],"mappings":"AAA;OCyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJmB;iBKE;GLK;CDO;OOE;CPM;OQE;CRE"},"hasCjsExports":false},"type":"js/module"}]}